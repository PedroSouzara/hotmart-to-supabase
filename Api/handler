// pages/api/handler.js

export default async function handler(req, res) {
  if (req.method !== 'POST') {
    return res.status(405).json({ message: 'Método não permitido' });
  }

  try {
    // 1. Recebe os dados enviados no body
    const data = req.body;

    // 2. Aqui você pode fazer o que quiser com os dados (exemplo: logar, salvar no banco etc)
    console.log('Dados recebidos:', data);

    // 3. (Opcional) Verificar se campos obrigatórios estão presentes
    if (!data.email) {
      return res.status(400).json({ message: 'Campo email é obrigatório' });
    }

    // 4. (Opcional) Exemplo: Salvar em algum serviço externo como Supabase, Firebase etc.
    // Exemplo:
    // await fetch('https://sua-api-externa.com/salvar', {
    //   method: 'POST',
    //   headers: { 'Content-Type': 'application/json' },
    //   body: JSON.stringify(data),
    // });

    // 5. Retorna sucesso
    return res.status(200).json({ message: 'Dados recebidos com sucesso!' });
  } catch (error) {
    console.error('Erro ao processar requisição:', error);
    return res.status(500).json({ message: 'Erro interno do servidor' });
  }
}
